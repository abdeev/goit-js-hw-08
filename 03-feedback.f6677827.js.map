{"mappings":"YAAA,aAEA,IA0BAA,EAAe,CACbC,KA3BW,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAuB3CC,KAnBW,SAAAV,GACX,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAe3CK,OAXa,SAAAd,GACb,IACEK,aAAaU,WAAWf,GACxB,MAAOO,GACPC,QAAQQ,IAAI,sBAAuBT,EAAME,YCtBvCQ,EAASC,SAASC,cAAc,kBAChCC,EAAcF,SAASC,cAAc,kBACrCE,EAAiBH,SAASC,cAAc,oBAExCG,EAAa,IAGK,WACtB,IAAMC,EAAgBzB,EAAoBY,KAAK,uBAE7C,GAAKa,EAEP,IAAK,IAAMC,KAAQD,EACbA,EAAcE,eAAeD,KAC7BP,EAAOS,SAASF,GAAMvB,MAAQsB,EAAcC,GAC5CF,EAAWE,GAAQD,EAAcC,IAKzCG,GAkBAV,EAAOW,iBAAiB,SAhBxB,SAAsBC,GAClB,IAAMC,EAAaD,EAAXC,OAEFC,EAAYD,EAAOE,KACnBC,EAAeH,EAAO7B,MAC5BqB,EAAWS,GAAaE,EAE1BnC,EAAoBC,KAAK,sBAAuBuB,MAUlDL,EAAOW,iBAAiB,UARxB,SAAqBC,GACjBA,EAAMK,iBACNpC,EAAoBgB,OAAO,uBAC3BM,EAAYnB,MAAQ,GACpBoB,EAAepB,MAAQ,GACvBO,QAAQQ,IAAIM,M","sources":["src/js/localstorage.js","src/js/03-feedback.js"],"sourcesContent":["'use strict';\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};","import localstorageService from './localstorage';\n\nconst formEl = document.querySelector('.feedback-form')\nconst inputMailEl = document.querySelector('[name=\"email\"]');\nconst inputMessageEl = document.querySelector('[name=\"message\"]');\n\nconst inputState = {};\n\n\nconst fillInputFields = () => {\n  const inputFieldsLS = localstorageService.load('feedback-form-state');\n  \n    if (!inputFieldsLS) { return }\n    \n  for (const prop in inputFieldsLS) {\n    if (inputFieldsLS.hasOwnProperty(prop)) {\n        formEl.elements[prop].value = inputFieldsLS[prop];\n        inputState[prop] = inputFieldsLS[prop];\n    }\n  }\n};\n\nfillInputFields();\n\nfunction onFieldInput(event) {\n    const { target } = event;\n\n    const fieldName = target.name;\n    const fieldMessage = target.value;\n    inputState[fieldName] = fieldMessage;\n\n  localstorageService.save('feedback-form-state', inputState);\n};\nfunction onBtnSubmit(event) {\n    event.preventDefault();\n    localstorageService.remove('feedback-form-state');\n    inputMailEl.value = \"\";\n    inputMessageEl.value = \"\";\n    console.log(inputState);\n}\nformEl.addEventListener('input', onFieldInput);\nformEl.addEventListener('submit', onBtnSubmit);"],"names":["$50116558f77987dc$export$2e2bcd8739ae039","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remove","removeItem","log","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$inputMailEl","$b00c40859be242c5$var$inputMessageEl","$b00c40859be242c5$var$inputState","inputFieldsLS","prop","hasOwnProperty","elements","$b00c40859be242c5$var$fillInputFields","addEventListener","event","target","fieldName","name","fieldMessage","preventDefault"],"version":3,"file":"03-feedback.f6677827.js.map"}